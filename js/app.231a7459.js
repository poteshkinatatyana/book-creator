(function(){"use strict";var t={2309:function(t,n,e){var o=e(9963),i=e(6252);const l=(0,i.Uk)("Home"),r=(0,i.Uk)(" | "),a=(0,i.Uk)("About");function s(t,n){const e=(0,i.up)("router-link"),o=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("nav",null,[(0,i.Wm)(e,{to:"/"},{default:(0,i.w5)((()=>[l])),_:1}),r,(0,i.Wm)(e,{to:"/about"},{default:(0,i.w5)((()=>[a])),_:1})]),(0,i.Wm)(o)],64)}var c=e(3744);const d={},u=(0,c.Z)(d,[["render",s]]);var p=u,f=e(2119);const b={class:"container pt-5 mb-5 pb-5"},h={class:"d-flex"},m={class:"side-left"},g={class:"d-flex flex-column flex-shrink-0 p-3 bg-light",style:{width:"280px"}},v=(0,i._)("h2",{class:"text-center"}," BOOKCreator ",-1),k=(0,i._)("hr",null,null,-1),_=(0,i._)("hr",null,null,-1),w={key:0},y=(0,i.Uk)(),x=(0,i._)("br",null,null,-1),C={key:1},S=(0,i._)("br",null,null,-1),j=(0,i._)("br",null,null,-1),O=(0,i.Uk)(),A=(0,i._)("br",null,null,-1),E=(0,i.Uk)(),U=(0,i._)("br",null,null,-1),I={class:"side-center"},T={key:0,class:"border p-3",style:{width:"1000px",height:"100%"}},D={class:"card-title"};function P(t,n,e,l,r,a){const s=(0,i.up)("sidebar-items"),c=(0,i.up)("tiptap");return(0,i.wg)(),(0,i.iD)("section",b,[(0,i._)("div",h,[(0,i._)("div",m,[(0,i._)("div",g,[v,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>r.titlebook=t),placeholder:"Название книги",type:"text",class:"form-control"},null,512),[[o.nr,r.titlebook]]),k,(0,i.Wm)(s,{postitems:r.posts,onSelectitem:a.Select,onAdditem:a.AddToItem},null,8,["postitems","onSelectitem","onAdditem"]),_,r.posts.length>0?((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("a",{href:"#",class:"card-link",onClick:n[1]||(n[1]=t=>r.sel=null)},"Закрыть"),y,x,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.posts,(t=>((0,i.wg)(),(0,i.iD)("ul",{key:t})))),128))])):((0,i.wg)(),(0,i.iD)("span",C,"Записей в книге нет!")),S,(0,i._)("input",{type:"file",class:"form-control",id:"selectFiles",onKeyup:n[2]||(n[2]=(0,o.D2)(((...t)=>a.UploadBook&&a.UploadBook(...t)),["enter"]))},null,32),(0,i._)("button",{id:"import",class:"btn btn-dark",onClick:n[3]||(n[3]=(...t)=>a.UploadBook&&a.UploadBook(...t))},"Импортировать книгу"),j,(0,i._)("button",{onClick:n[4]||(n[4]=(...t)=>a.ExportBook&&a.ExportBook(...t)),class:"btn btn-dark"},"Экспортировать книгу "),O,A,(0,i._)("button",{onClick:n[5]||(n[5]=(...t)=>a.SaveFile&&a.SaveFile(...t)),class:"btn btn-dark"},"Сохранить книгу "),E,U,(0,i._)("button",{onClick:n[6]||(n[6]=(...t)=>a.ExportBookHtml&&a.ExportBookHtml(...t)),class:"btn btn-dark"},"Скачать книгу")])]),(0,i._)("div",I,[r.sel?((0,i.wg)(),(0,i.iD)("div",T,[(0,i._)("h5",D,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",style:{width:"100%"},"onUpdate:modelValue":n[7]||(n[7]=t=>r.sel.title=t)},null,512),[[o.nr,r.sel.title]])]),(0,i.Wm)(c,{value:r.sel.body,onInput:a.In},null,8,["value","onInput"])])):(0,i.kq)("",!0)])])])}var B=e(3577);const H={key:0,class:"editor"};function L(t,n,e,o,l,r){const a=(0,i.up)("editor-content");return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.editor?((0,i.wg)(),(0,i.iD)("div",H,[(0,i._)("button",{onClick:n[0]||(n[0]=t=>l.editor.chain().focus().toggleHeading({level:1}).run()),class:(0,B.C_)({"is-active":l.editor.isActive("heading",{level:1})})}," h1 ",2),(0,i._)("button",{onClick:n[1]||(n[1]=t=>l.editor.chain().focus().toggleHeading({level:2}).run()),class:(0,B.C_)({"is-active":l.editor.isActive("heading",{level:2})})}," h2 ",2),(0,i._)("button",{onClick:n[2]||(n[2]=t=>l.editor.chain().focus().toggleHeading({level:3}).run()),class:(0,B.C_)({"is-active":l.editor.isActive("heading",{level:3})})}," h3 ",2),(0,i._)("button",{onClick:n[3]||(n[3]=t=>l.editor.chain().focus().setParagraph().run()),class:(0,B.C_)({"is-active":l.editor.isActive("paragraph")})}," paragraph ",2),(0,i._)("button",{onClick:n[4]||(n[4]=t=>l.editor.chain().focus().toggleBold().run()),class:(0,B.C_)({"is-active":l.editor.isActive("bold")})}," bold ",2),(0,i._)("button",{onClick:n[5]||(n[5]=t=>l.editor.chain().focus().toggleItalic().run()),class:(0,B.C_)({"is-active":l.editor.isActive("italic")})}," italic ",2),(0,i._)("button",{onClick:n[6]||(n[6]=t=>l.editor.chain().focus().toggleStrike().run()),class:(0,B.C_)({"is-active":l.editor.isActive("strike")})}," strike ",2),(0,i._)("button",{onClick:n[7]||(n[7]=t=>l.editor.chain().focus().toggleHighlight().run()),class:(0,B.C_)({"is-active":l.editor.isActive("highlight")})}," highlight ",2),(0,i._)("button",{onClick:n[8]||(n[8]=t=>l.editor.chain().focus().setTextAlign("left").run()),class:(0,B.C_)({"is-active":l.editor.isActive({textAlign:"left"})})}," left ",2),(0,i._)("button",{onClick:n[9]||(n[9]=t=>l.editor.chain().focus().setTextAlign("center").run()),class:(0,B.C_)({"is-active":l.editor.isActive({textAlign:"center"})})}," center ",2),(0,i._)("button",{onClick:n[10]||(n[10]=t=>l.editor.chain().focus().setTextAlign("right").run()),class:(0,B.C_)({"is-active":l.editor.isActive({textAlign:"right"})})}," right ",2),(0,i._)("button",{onClick:n[11]||(n[11]=t=>l.editor.chain().focus().setTextAlign("justify").run()),class:(0,B.C_)({"is-active":l.editor.isActive({textAlign:"justify"})})}," justify ",2)])):(0,i.kq)("",!0),(0,i.Wm)(a,{editor:l.editor,class:"editor-panel"},null,8,["editor"])],64)}var $=e(6725),M=e(6147),Z=e(6528),F=e(4524),W={components:{EditorContent:$.kg},data(){return{editor:null}},props:{value:{type:String,default:""}},watch:{value(t){const n=this.editor.getHTML()===t;n||this.editor.commands.setContent(t,!1)}},mounted(){this.editor=new $.ML({content:this.value,extensions:[M.Z,Z.Z.configure({types:["heading","paragraph"]}),F.ZP],onUpdate:()=>{this.$emit("input",this.editor.getHTML())}})},beforeUnmount(){this.editor.destroy()}};const N=(0,c.Z)(W,[["render",L]]);var J=N;const R={class:"nav nav-pills flex-column mb-auto"},q={class:"input-group mb-3 mt-3"};function K(t,n,e,l,r,a){const s=(0,i.up)("sidebar-item");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("ul",R,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.postitems,(n=>((0,i.wg)(),(0,i.j4)(s,{key:n.title,item:n,onSelectitem:e=>t.$emit("selectitem",n)},null,8,["item","onSelectitem"])))),128)),(0,i._)("div",q,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>r.newitem=t),placeholder:"Название главы",type:"text",class:"form-control"},null,512),[[o.nr,r.newitem]]),(0,i._)("button",{class:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:n[1]||(n[1]=(...t)=>a.handleAdd&&a.handleAdd(...t))},"Добавить")])])])}const V={href:"#",class:"nav-link","aria-current":"page"},Y=(0,i._)("svg",{class:"bi me-2",width:"16",height:"16"},[(0,i._)("use",{"xlink:href":"#home"})],-1);function z(t,n,e,o,l,r){return(0,i.wg)(),(0,i.iD)("li",{class:"nav-item",onClick:n[0]||(n[0]=n=>t.$emit("selectitem",e.item))},[(0,i._)("a",V,[Y,(0,i.Uk)(" "+(0,B.zw)(e.item.title),1)])])}var G={props:{item:{type:Object,required:!0}},methods:{add(){console.log(this.item)}}};const Q=(0,c.Z)(G,[["render",z]]);var X=Q,tt={components:{SidebarItem:X},data(){return{newitem:""}},props:{postitems:{type:Array,required:!0}},methods:{handleAdd(){this.$emit("additem",this.newitem),this.newitem=" "}}};const nt=(0,c.Z)(tt,[["render",K]]);var et=nt;const ot=t=>((0,i.dD)("data-v-a76b74aa"),t=t(),(0,i.Cn)(),t),it=ot((()=>(0,i._)("br",null,null,-1))),lt=ot((()=>(0,i._)("br",null,null,-1))),rt={ref:"content"},at=ot((()=>(0,i._)("p",{style:{"background-color":"red"}},"Hello Vue in CodeSandbox!",-1))),st=ot((()=>(0,i._)("h3",null,"Installed CLI Plugins",-1))),ct=ot((()=>(0,i._)("ul",null,[(0,i._)("li",null,[(0,i._)("a",{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"},"babel")]),(0,i._)("li",null,[(0,i._)("a",{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"},"eslint")])],-1))),dt=ot((()=>(0,i._)("h3",null,"Essential Links",-1))),ut=ot((()=>(0,i._)("h3",null,"Ecosystem",-1))),pt=[at,st,ct,dt,ut];function ft(t,n,e,o,l,r){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("button",{onClick:n[0]||(n[0]=(...t)=>r.downloadWithCSS&&r.downloadWithCSS(...t))},"Download PDF WITH CSS"),it,lt,(0,i._)("button",{onClick:n[1]||(n[1]=(...t)=>r.download&&r.download(...t))},"Download PDF WITHOUT CSS"),(0,i._)("div",rt,pt,512)])}var bt=e(8519),ht=e(1120),mt=e.n(ht),gt={name:"Convert",props:{msg:String},methods:{downloadWithCSS(){const t=new bt.ZP;var n=document.createElement("canvas");mt()(this.$refs.content,{canvas:n}).then((function(n){const e=n.toDataURL("image/jpeg",.8);t.addImage(e,"JPEG",20,20),t.save("sample.pdf")}))},download(){const t=new bt.ZP,n=this.$refs.content.innerHTML;t.fromHTML(n,15,15,{width:170}),t.save("sample.pdf")}}};const vt=(0,c.Z)(gt,[["render",ft],["__scopeId","data-v-a76b74aa"]]);var kt=vt,_t={components:{Tiptap:J,SidebarItems:et,Convert:kt},data(){return{titlebook:"",posts:[],sel:null,cposts:[]}},created:function(){},mounted(){localStorage.posts&&(this.posts=JSON.parse(localStorage.getItem("posts"))||[],this.titlebook=localStorage.getItem("titlebook"))},watch:{},computed:{},methods:{createPDF(){let t="test";var n=new bt.ZP;n.text(this.sel.body,10,10),n.save(t+".pdf")},Select(t){this.sel=t},In(t){console.log(t),this.sel.body=t},SaveFile(){const t=JSON.stringify(this.posts);localStorage.setItem("posts",t),localStorage.setItem("titlebook",this.titlebook),console.log("ff")},AddToItem(t){const n={title:t,body:" "};this.posts.push(n)},ExportBook(){console.log(this.posts);const t=JSON.stringify(this.posts),n=new Blob([t],{type:"text/plain"}),e=document.createEvent("MouseEvents"),o=document.createElement("a");o.download=`${this.titlebook}.json`,o.href=window.URL.createObjectURL(n),o.dataset.downloadurl=["text/json",o.download,o.href].join(":"),e.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(e)},ExportBookHtml(){console.log(this.posts);var t=[],n=[];for(let c=0;c<this.posts.length;c++){const i=this.posts[c].title,l=this.posts[c].body;var e=`\n<div class="bookbody">\n\n   \n    \n    <center><b>${i}</b></center> <br> <div id="${c}" >${l} <div>\n   \n</div>\n\n  `,o=`\n  <a href="#${c}">${i}</a>\n  `;n.push(o),t.push(e)}var i=`\n <div>\n    <div>\n    \n        <label class="btn hb" for="modal-1" style=" text-align: left !importnat;">Оглавление книги</label>\n      \n    </div>\n    \n    \n    <input class="modal-state" id="modal-1" type="checkbox" />\n    <div class="modal">\n      <label class="modal__bg" for="modal-1"></label>\n      <div class="modal__inner">\n          ${n.join(" <br>")}\n          </div>\n    </div>\n  </div>\n\n<style>\n    .bookbody{\n        font-family: open-sans,sans-serif; font-size: 15px; padding:10px;\n    }\n /* [Object] Modal\n * =============================== */\n.modal {\n  opacity: 0;\n  visibility: hidden;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n width: 300px;\n  text-align: left;\n  background: rgba(0,0,0, .9);\n  transition: opacity .25s ease;\n}\n\n.modal__bg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  cursor: pointer;\n}\n\n.modal-state {\n  display: none;\n}\n\n.modal-state:checked + .modal {\n  opacity: 1;\n  visibility: visible;\n}\n\n.modal-state:checked + .modal .modal__inner {\n  top: 0;\n}\n\n.modal__inner {\n  transition: top .25s ease;\n  position: absolute;\n  top: -20%;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 50%;\n  margin: auto;\n  overflow: auto;\n  background: #fff;\n  border-radius: 5px;\n  padding: 1em 2em;\n  height: 50%;\n}\n\n.modal__close {\n  position: absolute;\n  right: 1em;\n  top: 1em;\n  width: 1.1em;\n  height: 1.1em;\n  cursor: pointer;\n}\n\n.modal__close:after,\n.modal__close:before {\n  content: '';\n  position: absolute;\n  width: 2px;\n  height: 1.5em;\n  background: #ccc;\n  display: block;\n  transform: rotate(45deg);\n  left: 50%;\n  margin: -3px 0 0 -1px;\n  top: 0;\n}\n\n.modal__close:hover:after,\n.modal__close:hover:before {\n  background: #aaa;\n}\n\n.modal__close:before {\n  transform: rotate(-45deg);\n}\n\n@media screen and (max-width: 768px) {\n\t\n  .modal__inner {\n    width: 90%;\n    height: 90%;\n    box-sizing: border-box;\n  }\n}\n\n\n/* Other\n * =============================== */\nbody {\n  padding: 1%;\n  font: 1/1.5em sans-serif;\n  text-align: center;\n}\n\n.btn {\n  cursor: pointer;\n  background: #27ae60;\n\n  padding: .5em 1em;\n  color: #fff;\n  border-radius: 3px;\n}\n\n.btn:hover,\n.btn:focus {\n  background: #2ecc71;\n}\n\n.btn:active {\n  background: #27ae60;\n  box-shadow: 0 1px 2px rgba(0,0,0, .2) inset;\n}\n\n.btn--blue {\n  background: #2980b9;\n}\n\n.btn--blue:hover,\n.btn--blue:focus {\n  background: #3498db;\n}\n\n.btn--blue:active {\n  background: #2980b9;\n}\n\n\n</style>\n\n\n\n\n  `;t.unshift(i),console.log(t);const l=t.join(""),r=new Blob([l],{type:"text/plain"}),a=document.createEvent("MouseEvents"),s=document.createElement("a");s.download=`${this.titlebook}.html`,s.href=window.URL.createObjectURL(r),s.dataset.downloadurl=["text/json",s.download,s.href].join(":"),a.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(a)},UploadBook(){var t=document.getElementById("selectFiles").files;if(console.log(t),t.length<=0)return!1;var n=new FileReader;n.onload=function(t){console.log(t);var n=JSON.parse(t.target.result),e=JSON.stringify(n,null,2);localStorage.setItem("posts",e),localStorage.removeItem("titlebook"),window.location.reload()},n.readAsText(t.item(0))}}};const wt=(0,c.Z)(_t,[["render",P]]);var yt=wt;const xt=[{path:"/",name:"home",component:yt},{path:"/about",name:"about",component:()=>e.e(443).then(e.bind(e,7381))}],Ct=(0,f.p7)({history:(0,f.PO)("/BookCreator/"),routes:xt});var St=Ct;e(7024);const jt=(0,o.ri)(p);jt.use(St).mount("#app")}},n={};function e(o){var i=n[o];if(void 0!==i)return i.exports;var l=n[o]={exports:{}};return t[o].call(l.exports,l,l.exports,e),l.exports}e.m=t,function(){var t=[];e.O=function(n,o,i,l){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],l=t[d][2];for(var a=!0,s=0;s<o.length;s++)(!1&l||r>=l)&&Object.keys(e.O).every((function(t){return e.O[t](o[s])}))?o.splice(s--,1):(a=!1,l<r&&(r=l));if(a){t.splice(d--,1);var c=i();void 0!==c&&(n=c)}}return n}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[o,i,l]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){var t,n=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};e.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var l=Object.create(null);e.r(l);var r={};t=t||[null,n({}),n([]),n(n)];for(var a=2&i&&o;"object"==typeof a&&!~t.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(t){r[t]=function(){return o[t]}}));return r["default"]=function(){return o},e.d(l,r),l}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(n,o){return e.f[o](t,n),n}),[]))}}(),function(){e.u=function(t){return"js/"+(443===t?"about":t)+"."+{4:"4754b9dc",443:"b2ceec81",856:"a36ad0cc"}[t]+".js"}}(),function(){e.miniCssF=function(t){}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={},n="electbook:";e.l=function(o,i,l,r){if(t[o])t[o].push(i);else{var a,s;if(void 0!==l)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==n+l){a=u;break}}a||(s=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,e.nc&&a.setAttribute("nonce",e.nc),a.setAttribute("data-webpack",n+l),a.src=o),t[o]=[i];var p=function(n,e){a.onerror=a.onload=null,clearTimeout(f);var i=t[o];if(delete t[o],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(t){return t(e)})),n)return n(e)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),s&&document.head.appendChild(a)}}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/BookCreator/"}(),function(){var t={143:0};e.f.j=function(n,o){var i=e.o(t,n)?t[n]:void 0;if(0!==i)if(i)o.push(i[2]);else{var l=new Promise((function(e,o){i=t[n]=[e,o]}));o.push(i[2]=l);var r=e.p+e.u(n),a=new Error,s=function(o){if(e.o(t,n)&&(i=t[n],0!==i&&(t[n]=void 0),i)){var l=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;a.message="Loading chunk "+n+" failed.\n("+l+": "+r+")",a.name="ChunkLoadError",a.type=l,a.request=r,i[1](a)}};e.l(r,s,"chunk-"+n,n)}},e.O.j=function(n){return 0===t[n]};var n=function(n,o){var i,l,r=o[0],a=o[1],s=o[2],c=0;if(r.some((function(n){return 0!==t[n]}))){for(i in a)e.o(a,i)&&(e.m[i]=a[i]);if(s)var d=s(e)}for(n&&n(o);c<r.length;c++)l=r[c],e.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return e.O(d)},o=self["webpackChunkelectbook"]=self["webpackChunkelectbook"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(2309)}));o=e.O(o)})();
//# sourceMappingURL=app.231a7459.js.map